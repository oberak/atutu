
<!doctype html>
<html lang="zxx">

<head>
  <% include ../partial/head.ejs %>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.6/quill.snow.css">
    <style media="screen">
      .img-label img {
        width: 25rem;
      }

      .img-label {
        cursor: pointer;
      }

      /* .img-container {
  max-width: 100%;
} */
    </style>

</head>

<body>

  <div id="wrapper" class="wrapper">

    <!-- BEGIN HEADER -->
    <% include ../partial/header.ejs %>


      <main class="site-content">

        <div class="container no-top-padding">
          <ol class="breadcrumb">
            <li><a href="#">Home</a></li>
            <li><a href="shop.html">Campaign</a></li>
            <li class="active">Create campaign</li>
          </ol>
          <header class="page-header">
            <h1>Create Campaign</h1>
          </header>
          <form class="checkout-form form-horizontal" id="frm" method="post" action="/campaign/add" name="frm" enctype="multipart/form-data">
            <h2>Campaign details</h2>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="categories">Categories <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <select id="categories" name="categories" class="form-control selectpicker" multiple>
                  <option value="AL">Albania</option>
                  <option value="DZ">Algeria</option>
                  <option value="AL">Albania</option>
                  <option value="DZ">Algeria</option>
                  <option value="AL">Albania</option>
                  <option value="DZ">Algeria</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="camp-name">Campaign Name <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <input type="text" name="campName" id="campName" class="form-control" placeholder="Heart Of Help" required>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label " for="image">Image <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <label class="img-label" data-toggle="tooltip" title="Select photo">
                        <img class="rounded" id="photo" src="/images/upload.png" alt="Image">
                        <input type="file" class="sr-only" id="uploadImg" name="uploadImg" accept="images/*">
                    </label>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="brief">Brief <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <input type="text" name="brief" id="brief" class="form-control">
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="story">Story <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <div class="" id="editor">

                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="address">Address <span class="required">*</span></label>
              <div class="col col-lg-3 col-md-10">
                <select id="region" name="region" class="form-control selectpicker">
                    <option value="">Select a Region</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                  </select>
              </div>
              <div class="col col-lg-3 col-md-10">
                <select id="city" name="city" class="form-control selectpicker">
                    <option value="">Select a City</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                  </select>
              </div>
              <div class="col col-lg-4 col-md-10">
                <input type="text" name="address" id="address" class="form-control" placeholder="No.7,Aung Thu Kha street" required>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="postcode">Goal <span class="required">*</span></label>
              <div class="col col-lg-4 col-md-10">
                <input type="number" name="goal" id="goal" class="form-control" placeholder="Amount" min="1" required>
              </div>
              <div class="col col-lg-3 col-md-10">
                <input type="text" name="th" id="th" class="form-control" value="0,000" readonly>
              </div>
              <div class="col col-lg-3 col-md-10">
                <p style="background-color:gray;font-size:25px; color:black; text-align:center;">Kyats</p>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="endDate">End date <span class="required">*</span></label>
              <div class="col col-lg-10 col-md-10">
                <input type="date" name="endDate" id="endDate" class="form-control" required>
              </div>
            </div>
            <div class="form-group">
              <label class="col col-lg-2 col-md-2 control-label" for="tags">Tags</label>
              <div class="col col-lg-10 col-md-10">
                <input type="text" name="tags" id="tags" class="form-control" placeholder="#Education, #Children">
              </div>
            </div>
            <div class="text-center">
              <button type="button" id="save" class="btn btn-lg btn-primary">Save</button>

            </div>
          </form>
        </div>


      </main>
      <!-- END MAIN CONTENT -->

      <!-- BEGIN FOOTER -->
      <% include ../partial/footer.ejs %>

        <!-- Gmaps API -->


</body>
<script src="http://maps.google.com/maps/api/js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.6/quill.js" charset="utf-8"></script>
<script src="/scripts/map-objects-data.js"></script>

<!-- Plugins js -->
<script src="/scripts/plugins.js"></script>

<!-- Main js -->
<script src="/scripts/main.js"></script>


<script type="text/javascript">
  var toolbarOptions = [
    ['bold', 'italic', 'underline'], // toggled buttons
    ['blockquote'],

    [{
      'header': 1
    }, {
      'header': 2
    }], // custom button values
    [{
      'list': 'ordered'
    }, {
      'list': 'bullet'
    }],
    [{
      'script': 'sub'
    }, {
      'script': 'super'
    }], // superscript/subscript
    [{
      'indent': '-1'
    }, {
      'indent': '+1'
    }], // outdent/indent
    [{
      'direction': 'rtl'
    }], // text direction

    [{
      'size': ['small', false, 'large', 'huge']
    }], // custom dropdown
    [{
      'header': [1, 2, 3, 4, 5, 6, false]
    }],

    [{
      'color': []
    }, {
      'background': []
    }], // dropdown with defaults from theme
    [{
      'font': []
    }],
    [{
      'align': []
    }],

    ['clean'] // remove formatting button
  ];

  var quill = new Quill('#editor', {
    modules: {
      toolbar: toolbarOptions
    },
    theme: 'snow'
  });

  // jQuery.noConflict();
  $(function() {
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
          $('#photo').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
      }
    }
    $("#uploadImg").change(function() {
      readURL(this);
    });

  });
  save.onclick = function() {
    var formData = new FormData(document.querySelector('#frm'));
    formData.append('contents', quill.container.firstChild.innerHTML);
    $.ajax('/campaign/add', {
      method: 'POST',
      data: formData,
      processData: false,
      contentType: false,
      success: function(rtn) {
        console.log(rtn);
      },
      error: function(err) {
        console.log(err);
      },
      complete: function() {
        console.log('complate');
      },
    });
  }
  //
</script>
</html>
